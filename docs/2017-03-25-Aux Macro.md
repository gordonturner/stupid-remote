2017-03-25-Aux Macro
====================

Command Line
------------

- For the following:
  - On Raspberry Pi connected to Samsung TV
  - Kodi/osmc with cec disabled
  - lirc installed
  - cec-client install (from Github source)

- Created `aux.sh` script:

```
vi aux.sh
```
```
#!/bin/bash
echo "tx 2F:82:20:00" | cec-client RPI -s -d 4
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_CYCLEWINDOWS" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
irsend -d /run/lirc/lircd-lirc0 SEND_ONCE "Samsung" "KEY_UP" && sleep 0.5
```


App Calls
---------

- Call cec and set to Kodi:

```
  www.cecUsb.sendCommand( 0x1F, 0x82, 0x20, 0x00 );
```

- Must wait until complete, might have to use callback?

- Then run:

```
  /* TODO: Consider refactoring this very procedural process */
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_CYCLEWINDOWS', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
  lircNode.irsend.send_once('JVC-RM-AJ777', 'KEY_UP', function() {
    sleep.msleep(500);
  });
```


